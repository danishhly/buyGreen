spring.application.name=buygreen

# Database Configuration
# ===============================
# Use environment variables with defaults for local development
# IMPORTANT: For production, set DB_URL, DB_USERNAME, and DB_PASSWORD as environment variables
# For local development, if DB_PASSWORD is not set, it will default to empty (no password)
# Set DB_PASSWORD environment variable to provide your database password
spring.datasource.url=jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/${MYSQLDATABASE}?useSSL=true&requireSSL=true&allowPublicKeyRetrieval=true
spring.datasource.username=${MYSQLUSER}
spring.datasource.password=${MYSQLPASSWORD}

# JPA / Hibernate
# ===============================
# For production, use 'validate' or 'none' instead of 'update'
# 'update' should only be used in development
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Razorpay Configuration
# ===============================
# Use environment variables - NEVER commit real keys
# For local development, you can set defaults here, but use env vars for production
razorpay.keyId=${RAZORPAY_KEYID}
razorpay.keySecret=${RAZORPAY_SECRET}

# Google OAuth Configuration
# ===============================
google.clientId=${GOOGLE_CLIENTID}

# JWT Configuration
# ===============================
# Use environment variable for production - this should be a strong random secret
jwt.secret=${JWT_SECRET}

# Email Configuration
# ===============================
# IMPORTANT: Set MAIL_USERNAME and MAIL_PASSWORD as environment variables
# For local testing, you can temporarily set defaults here (but remove before committing)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
# Increased timeouts for better connectivity
spring.mail.properties.mail.smtp.connectiontimeout=30000
spring.mail.properties.mail.smtp.timeout=30000
spring.mail.properties.mail.smtp.writetimeout=30000
# Additional settings for better reliability
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2

# Frontend URL Configuration
# ===============================
# Set this to your production frontend URL (e.g., https://yourdomain.com)
# For development, defaults to http://localhost:5173
frontend.url=${FRONTEND_URL:http://localhost:5173}

